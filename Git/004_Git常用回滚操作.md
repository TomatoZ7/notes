# Git 常用回滚操作

## 1 撤销本地的修改

```shell
$ git checkout -- <file>
```

这将会从本地库中拉出对应的文件对已修改的文件进行覆盖

## 2 add 回滚

`git add [filename]` 会使文件进入暂存区，即从暂存区回滚。

```shell
$ git reset HEAD <filename>
```

## 3 commit 回滚

`git commit` 会使将文件提交到本地仓库，并进行版本控制。

查看 `commit` 日志：

```shell
$ git log

# 简洁显示
$ git log pretty=oneline
```

![image](https://github.com/TomatoZ7/notes-of-tz/blob/master/images/git5.jpg)

可以看到已 `commit` 未 `push` 的版本 ID 为 `e5e09fb8b26072beb04caa9727207845c59ea881`

远程仓库的版本 ID 为 `fd14fda7b86f996639640eedfeb9c77a842957bd`

这时候撤销 `commit` 的文件：

```shell
# git reset --hard 版本id
$ git reset --hard fd14fda7b86f996639640eedfeb9c77a842957bd
```

意思就是，你要撤销最近一次 `commit`，你就要把 `HEAD` 指向上上次，所以 `reset` 一下 `HEAD` 就可以了