# UML 类图

统一建模语言（Unified Modeling Language，UML）是用来设计的可视化建模语言。它的特点是简单、统一、图形化、能表达软件设计中的动态与静态信息。

UML 从目标系统的不同角度出发，定义了用例图、**类图**、对象图、状态图、活动图、时序图、协作图、构件图、部署图等 9 种图。

## 1.类图概述

**类图（class diagram）**显示了模型的**静态**结构，特别是模型中存在的类、类的内部结构以及它们与其它类的关系等。类图不显示暂时性的信息。类图是面向对象建模的主要组成部分。

## 2.类图的作用

+ 在软件工程中，类图是一种静态的结构图，描述了系统的类的集合，类的属性和类之间的关系，可以简化人们对系统的理解；

+ 类图是系统分析和设计阶段的重要产物，是系统编码和测试的重要模型。

## 3.类图表示法

在 UML 类图中，类使用包含类名、属性（field）和方法（method）且带有分割线的矩形来表示，比如下图表示一个 `Empolyee` 类，它包含 `name`、`age` 和 `address` 三个属性，以及 `work` 方法。

### 3.1 类的表示方式

![image:UML_1](https://github.com/TomatoZ7/notes-of-tz/blob/master/Programming/DesignPatterns/images/UML_1.jpg)

属性/方法前的加号和减号表示了这个属性/方法的可见性，UML 类图中表示可见性符号的有三种：

+ `+` : `public`

+ `-` : `private`

+ `#` : `protected`

属性的完整表示方式：可见性 名称 : 类型 [= 缺省值]

方法的完整表示方式：可见性 名称(参数列表) [: 返回类型]

### 3.2 类与类之间关系的表达方式
#### 3.2.1 关联关系

关联关系是对象之间的一种引用关系，用于表示一类对象与另一类对象之间的关系，如老师和学生、师傅和徒弟、丈夫和妻子等。关联关系是类与类之间最常用的一种关系，分为**一般关联关系**、**聚合关系**和**组合关系**。

我们先介绍一般关联，又可以分为**单向关联**、**双向关联**和**自关联**。

1. 单向关联

![image:UML_2](https://github.com/TomatoZ7/notes-of-tz/blob/master/Programming/DesignPatterns/images/UML_2.jpg)

在 UML 类图中单向关联用一个带箭头的实线表示。上图表示每个顾客都有一个地址，这通过 `Customer` 类持有一个类型为 `Address` 的成员变量类实现。

2. 双向关联

![image:UML_3](https://github.com/TomatoZ7/notes-of-tz/blob/master/Programming/DesignPatterns/images/UML_3.jpg)

从上图中我们可以看出，双向关联就是双方各自持有对方类型的成员变量。

在 UML 类图中，双向关联用一个不带箭头的直线表示。上图中在 `Customer` 类中维护一个 `List<Product>`，表示一个顾客可以购买多个商品；在 `Product` 类中维护一个 `Customer` 类型的成员变量，表示这个商品被哪个顾客购买。

3. 自关联

![image:UML_3](https://github.com/TomatoZ7/notes-of-tz/blob/master/Programming/DesignPatterns/images/UML_3.jpg)

自关联在 UML 类图中用一个带有箭头且指向自身的线表示。上图的意思就是 `Node` 类包含类型为 `Node` 的成员变量，也就是自己包含自己。

#### 3.2.2 聚合关系

