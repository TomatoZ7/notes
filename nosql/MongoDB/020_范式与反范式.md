# 范式化与反范式化

**范式化(normailzation)** 是将数据分散到多个**不同的集合**，不同集合之间可以相互引用数据。虽然很多文档可以引用某一块数据，但是这块数据只存储在一个集合中。所以，如果要修改这块数据，只需修改保存这块数据的那一个文档就行了。但是，`MongoDB` 没有提供连接 `join` 工具，所以在不同集合之间执行连接查询需要**多次查询**。

**反范式化(denormailzation)** 与范式化相反：将每个文档所需的数据都嵌入在文档内部。每个文档都拥有自己的冗余数据，而不是所有文档共同引用同一个数据。这意味着如果信息发生了改变，那么所有相关文档都需要进行更新，但是在查询时，只需要一次查询，就可以得到所有数据。

内嵌数据(反范式化)与引用数据(范式化)的比较：

![image](https://github.com/TomatoZ7/notes-of-tz/blob/master/nosql/MongoDB/images/mongo_paradigm_1.jpg)

## 基数

一个集合中包含的对其他集合的引用数量叫做**基数（cardinality）**。常见的关系有一对一、一对多、多对多。