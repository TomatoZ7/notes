# 何时不该使用索引

结果集在原集合中所占的比例越大，索引的速度就越慢，因为使用索引需要进行两次查找：一次是查找索引条目，一次是根据索引指针去查找响应的文档。而全表扫描只需要查找一次文档。在最坏的情况下(返回集合内的所有文档)，使用索引进行的查找次数会是全表扫描的两倍，效率明显低很多。

一般来说，如果查询需要返回集合内 30% 的文档(或者更多)，那就应该对索引和全表扫描的速度进行比较。然而，这个数字可能会在 2%~60% 之间变动。

可以用 `{"$natural": 1}` 强制数据库做全表扫描：

```js
> db.entries.find({"created_at": {"$lt": hourAgo}}).hint({"$natural": 1})
```

使用 `$natural` 排序有个副作用：返回的结果是按照磁盘上的顺序排列的。对于一个活跃的集合来说，这是没有意义的：随着文档体积的增加或者缩小，文档会在磁盘上进行移动，新的文档会被写入到这些文档留下的空白位置。但是，对于只需要进行插入的工作来说，如果要得到最近的(或者最早的)的文档，使用 `$natural` 就非常有用了。