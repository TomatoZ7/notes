# 文档操作

测试时的版本比较新，有些命令已经被废弃。

```shell
> db.version()
4.2.5
```

## 1 增加

使用 `insert` 方法可以向目标集合插入一个文档：

```shell
> db.foo.insert({"bar": "baz"})
```

这个操作会给文档自动增加一个 `_id` 键(要是原来没有的话)。

### 1.1 批量增加

`batchInsert` 函数实现批量插入，与 `insert` 函数非常像，只是接受的是一个文档数组作为参数：

```shell
> db.foo.batchInsert([{"_id": 0}, {"_id": 1}, {"_id": 2}])
```

注意：后续版本中 `batchInsert` 被废弃，使用 `insert` 即可：

```shell
> db.foo.insert([{"_id": 0}, {"_id": 1}, {"_id": 2}])
BulkWriteResult({
        "writeErrors" : [ ],
        "writeConcernErrors" : [ ],
        "nInserted" : 3,
        "nUpserted" : 0,
        "nMatched" : 0,
        "nModified" : 0,
        "nRemoved" : 0,
        "upserted" : [ ]
})
> db.foo.find()
{ "_id" : ObjectId("6129f18e01e19deab9618f1b"), "bar" : "baz" }
{ "_id" : 0 }
{ "_id" : 1 }
{ "_id" : 2 }
```