# 数组

**数组（Array）是一种线性表数据结构。它用一组连续的内存空间，来存储一组具有相同类型的数据。**

在这个定义中有几个关键词：

1. **线性表（linear List）**

线性表就是数据排成像一条线一样的结构，每个线性表上的数据最多只有前和后两个方向。**除了数组，链表、栈、队列也是线性表结构。**

二叉树、堆、图等则是**非线性表**，也就是说它们存放的数据之间并不是简单的前后关系。

2. **连续的内存空间和相同的数据类型**

正是因为这两个限制，数组才能实现**随机访问**。但也正是因为这两个特性，导致数组的很多操作变得低效，如删除或添加数组元素，为了保证连续性，就需要做大量的数据搬移工作。

## 1 数组如何实现根据下标随机访问数组元素

我们拿一个长度为 10 的 `int` 类型的数组 `int[] a = new int[10]` 来举例。如图所示，计算机给数组 `a[10]` 分配了一块连续内存空间 1000 ~ 1039，内存块的首地址为 `base_address = 1000`。

<!-- image -->

我们知道，计算机会给每个内存单元分配一个地址，计算机通过地址来访问内存中的数据。当计算机需要随机访问数组中的某个元素，它会首先通过下面的寻址公式，计算出钙元素存储的内存地址：

```java
a[i]_address = base_address + i * date_type_size
```

其中，`data_type_size` 表示数组中每个元素的大小。在这个例子中，数组存放的是 `int` 类型数据，所以 `data_type_size` 就是 4 个字节。

> 存在一个“说法”：数组查找的时间复杂度是 `O(1)`。
> 
> 其实是不准确的。即便是排好序的数组，用二分查找，时间复杂度也是 `O(logn)`。正确的表述应该是：数组支持随机访问，根据下标随机访问的时间复杂度是 `O(1)`。