# php 文件读写

## 1 fopen 打开文件

```php
fopen(filename,mode,include_path,context)
```

| 参数 | 描述 |
| :-- | :-- |
| filename | **必需**。规定要打开的文件或 `URL` |
| mode | **必需**。规定对文件/流的访问类型：<br/>`r` : 只读方式，文件指针指向文件头<br/>`r+` : 读写方式，文件指针指向文件头<br/>`w` : 写入方式，清除文件内容，如果文件不存在则尝试创建之<br/>`w+` : 读写方式，清除文件内容，如果文件不存在则尝试创建之<br/>`a` : 写入方式，文件指针指向文件末尾，如果文件不存在则尝试创建之<br/>`a+` : 读写方式，文件指针指向文件末尾<br/>`x` : 创建一个新的文件并以写入方式打开，如果文件已存在则返回 `FALSE` 和一个错误<br/>`x+` : 创建一个新的文件并以读写方式打开，如果文件已存在则返回 `FALSE` 和一个错误 |
」
| include_path | 可选。如果也需要在 `include_path` 中检索文件的话，可以将该参数设为 `1` 或 `TRUE` |
| context | 可选。规定文件句柄的环境。`context` 是一套可以修改流的行为的选项 |

其中，`r+`、`w+`、`a+` 都是读写模式，读取方式一样，写入方式区别如下：

| 描述 | r+ | w+ | a+ |
| :-- | :-- | :-- | :-- |
| 写入方式 | 从文件头部开始覆盖，其他内容不变 | 清空文件并写入 | 从文件尾部追加，其他内容保留 |
| 文件不存在 | 报错 | 创建 | 创建 |

> 注意：Windows 下文件路径是 `\`，应该使用 `/`。

## 2 fwrite 写入文件

```php
fwrite(file,string,length)
```

| 参数 | 描述 |
| :-- | :-- |
| file | 必需。规定要打开的文件 |
| string | 必需。规定要写入文件的字符串 |
| length | 可选。规定要写入的最大字节数 |

## 3 读取文件

### 3.1 fgetc : 一次读取一个字节

```php
$f = fopen('t.txt');
$content = fgetc($f);
fclose($f);
```

### 3.2 fread : 一次读取多个字节

```php
fread(resource $handle, int $length)
```

```php
$f = fopen('t.txt');
echo fread($file, 3);
fclose($f);
```

